\hypertarget{AOloopControl_8h}{\section{src/\+A\+Oloop\+Control/\+A\+Oloop\+Control.h File Reference}
\label{AOloopControl_8h}\index{src/\+A\+Oloop\+Control/\+A\+Oloop\+Control.\+h@{src/\+A\+Oloop\+Control/\+A\+Oloop\+Control.\+h}}
}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structAOLOOPCONTROL__CONF}{A\+O\+L\+O\+O\+P\+C\+O\+N\+T\+R\+O\+L\+\_\+\+C\+O\+N\+F}
\item 
struct \hyperlink{structTHDATA__IMTOTAL}{T\+H\+D\+A\+T\+A\+\_\+\+I\+M\+T\+O\+T\+A\+L}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{AOloopControl_8h_a1607e57c6edf0fe69d995ec9b00b2d2d}{max\+N\+B\+M\+B}~100
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
long \hyperlink{AOloopControl_8h_a5c3b0bdcff0ed83ed3f9f217b14c014d}{A\+Oloop\+Control\+\_\+make\+Template\+A\+Oloopconf} (long loopnb)
\begin{DoxyCompactList}\small\item\em Creates a blank configuration. \end{DoxyCompactList}\item 
int \hyperlink{AOloopControl_8h_a8da218e072b44146cdc1d47f80d49e3c}{init\+\_\+\+A\+Oloop\+Control} ()
\item 
long \hyperlink{AOloopControl_8h_ad0ae22b447c41a10cf7f3614dfbcd49c}{A\+Oloop\+Control\+\_\+mk\+Modes} (char $\ast$I\+D\+\_\+name, long msize, float C\+P\+Amax, float delta\+C\+P\+A, double xc, double yx, double r0, double r1, int Mask\+Mode)
\item 
int \hyperlink{AOloopControl_8h_abafcddf53edec67a3729837724449116}{A\+Oloop\+Control\+\_\+camimage\+\_\+extract2\+D\+\_\+sharedmem\+\_\+loop} (char $\ast$in\+\_\+name, char $\ast$out\+\_\+name, long size\+\_\+x, long size\+\_\+y, long xstart, long ystart)
\item 
int \hyperlink{AOloopControl_8h_a5dd93c01f73c5a77832eb9d3cb5d89c4}{compute\+\_\+\+Control\+Matrix} (long loop, long N\+B\+\_\+\+M\+O\+D\+E\+\_\+\+R\+E\+M\+O\+V\+E\+D, char $\ast$I\+D\+\_\+\+Rmatrix\+\_\+name, char $\ast$I\+D\+\_\+\+Cmatrix\+\_\+name, char $\ast$I\+D\+\_\+\+V\+Tmatrix\+\_\+name, double Beta, long N\+B\+\_\+\+M\+O\+D\+E\+\_\+\+R\+E\+M\+O\+V\+E\+D\+\_\+\+S\+T\+E\+P, float eigenvlim)
\begin{DoxyCompactList}\small\item\em Computes control matrix using S\+V\+D. \end{DoxyCompactList}\item 
int \hyperlink{AOloopControl_8h_a7071ae48e7bdbd03bc3c13ff143ec017}{A\+Oloop\+Control\+\_\+\+Initialize\+Memory} ()
\item 
int \hyperlink{AOloopControl_8h_aebbd9ebfb4bb8e187b37fcf60b453b3d}{Average\+\_\+cam\+\_\+frames} (long loop, long Nb\+Ave, int R\+M)
\item 
long \hyperlink{AOloopControl_8h_acc9ab7061d6a728e55bcacd6742448c1}{A\+Oloop\+Control\+\_\+\+Make\+D\+M\+Modes} (long loop, long N\+Bmodes, char $\ast$I\+Dname)
\item 
long \hyperlink{AOloopControl_8h_a433c21c6619529f2a61c2b4c22a7c287}{A\+Oloop\+Control\+\_\+load\+C\+M} (long loop, char $\ast$C\+Mfname)
\item 
int \hyperlink{AOloopControl_8h_a25c5f36d50bdfd0be2cdf0476c300e03}{A\+Oloop\+Control\+\_\+loadconfigure} (long loop, int mode)
\item 
int \hyperlink{AOloopControl_8h_a50857db2034c5affb27df150a136098f}{set\+\_\+\+D\+M\+\_\+modes} (long loop)
\item 
long \hyperlink{AOloopControl_8h_af1fb87c4df5022fc7d227ddd0c3dcbe4}{Measure\+\_\+zonal\+R\+M} (long loop, double ampl, double delays, long N\+Bave, char $\ast$zrespm\+\_\+name, char $\ast$W\+F\+Sref\+\_\+name, char $\ast$W\+F\+Smap\+\_\+name, char $\ast$D\+Mmap\+\_\+name)
\item 
int \hyperlink{AOloopControl_8h_a40f5dfb872f856f68b6dec2a72f126bb}{A\+Oloop\+Control\+\_\+\+Measure\+\_\+\+W\+F\+Scam\+\_\+\+Periodic\+Error} (long loop, long N\+Bframes, long N\+Bpha, char $\ast$I\+Dout\+\_\+name)
\item 
int \hyperlink{AOloopControl_8h_af46ddde2c87335138a1a11eee3442119}{A\+Oloop\+Control\+\_\+\+Remove\+\_\+\+W\+F\+Scam\+P\+E} (char $\ast$I\+Din\+\_\+name, char $\ast$I\+Dcorr\+\_\+name, double pha)
\item 
int \hyperlink{AOloopControl_8h_ab51676f77cfd9e45abd24cb0a68a08e7}{Measure\+\_\+\+Resp\+\_\+\+Matrix} (long loop, long Nb\+Ave, float amp, long nbloop, long f\+Delay, long N\+Biter)
\item 
int \hyperlink{AOloopControl_8h_a629fc1fdecf7ffcf538a9292ee0f3f08}{Control\+Matrix\+Multiply} (float $\ast$cm\+\_\+array, float $\ast$imarray, long m, long n, float $\ast$outvect)
\item 
long \hyperlink{AOloopControl_8h_a90718da3540a468ed4ffd1e8ba2a0f4b}{compute\+\_\+\+Combined\+Control\+Matrix} (char $\ast$I\+Dcmat\+\_\+name, char $\ast$I\+Dmodes\+\_\+name, char $\ast$I\+Dwfsmask\+\_\+name, char $\ast$I\+Ddmmask\+\_\+name, char $\ast$I\+Dcmatc\+\_\+name, char $\ast$I\+Dcmatc\+\_\+active\+\_\+name)
\item 
int \hyperlink{AOloopControl_8h_ae49a1c95d630e0924f5fcc570f8c3f90}{A\+Ocompute} (long loop)
\item 
int \hyperlink{AOloopControl_8h_a49e9b7e1597c463530fdaa7e7ec56150}{A\+Oloop\+Control\+\_\+run} ()
\item 
int \hyperlink{AOloopControl_8h_ac2130a837323ad0ead68e773805d463b}{A\+Oloop\+Control\+\_\+printloopstatus} (long loop, long nbcol)
\item 
int \hyperlink{AOloopControl_8h_a15b7e95b4f672093999baa32340ba2d1}{A\+Oloop\+Control\+\_\+loop\+Monitor} (long loop, double frequ, long nbcol)
\item 
int \hyperlink{AOloopControl_8h_a44d6b74e377a16df7fc07c6540c028a8}{A\+Oloop\+Control\+\_\+status\+Stats} ()
\item 
int \hyperlink{AOloopControl_8h_a393d9b6ae87a47e1d1e4ce32f9078bcd}{A\+Oloop\+Control\+\_\+showparams} (long loop)
\item 
int \hyperlink{AOloopControl_8h_a2d13870a1f5ae080dfc54d02cb2d31be}{A\+Oloop\+Control\+\_\+set\+Loop\+Number} (long loop)
\item 
int \hyperlink{AOloopControl_8h_a2c85b4bdaa4d20924f5faf5a70f64c3e}{A\+Oloop\+Control\+\_\+loopkill} ()
\item 
int \hyperlink{AOloopControl_8h_ac12e4ec8eab5e0e1997297c19132c738}{A\+Oloop\+Control\+\_\+loopon} ()
\item 
int \hyperlink{AOloopControl_8h_a1459e03fb4779fca74d482c4844b20b7}{A\+Oloop\+Control\+\_\+loopoff} ()
\item 
int \hyperlink{AOloopControl_8h_a8507068917e5ce955a643d40d0dcc0e3}{A\+Oloop\+Control\+\_\+logon} ()
\item 
int \hyperlink{AOloopControl_8h_af9e154a6fb28dfba8c8acf770431923d}{A\+Oloop\+Control\+\_\+loopstep} (long loop, long N\+Bstep)
\item 
int \hyperlink{AOloopControl_8h_a2b8abc25c5776e3adfdf9abff393b4de}{A\+Oloop\+Control\+\_\+logoff} ()
\item 
int \hyperlink{AOloopControl_8h_a7eff3756b677cbbb8162855660b06598}{A\+Oloop\+Control\+\_\+loopreset} ()
\item 
int \hyperlink{AOloopControl_8h_a5f9c5ad3207860e9d7aa798ac1c9fae5}{A\+Oloop\+Control\+\_\+setgain} (float gain)
\item 
int \hyperlink{AOloopControl_8h_a8b75616de0409597277e78ccc25e8e28}{A\+Oloop\+Control\+\_\+set\+W\+F\+Snormfloor} (float W\+F\+Snormfloor)
\item 
int \hyperlink{AOloopControl_8h_a2e67072df4000cbf36d0a288a9ad600c}{A\+Oloop\+Control\+\_\+setmaxlimit} (float maxlimit)
\item 
int \hyperlink{AOloopControl_8h_a103446360a63ad9db77d165bf0c70953}{A\+Oloop\+Control\+\_\+setmult} (float multcoeff)
\item 
int \hyperlink{AOloopControl_8h_ab613f72b3d71fcbd8e7c66c5ca984661}{A\+Oloop\+Control\+\_\+setframes\+Ave} (long nbframes)
\item 
int \hyperlink{AOloopControl_8h_a821eb358bf66f0110683f11f2e9f8bd3}{A\+Oloop\+Control\+\_\+setgainrange} (long m0, long m1, float gainval)
\item 
int \hyperlink{AOloopControl_8h_a5b18dda711594cd8a420618f1f19131f}{A\+Oloop\+Control\+\_\+setlimitrange} (long m0, long m1, float limval)
\item 
int \hyperlink{AOloopControl_8h_a539de519b6705f61d72b6242cd5a85ed}{A\+Oloop\+Control\+\_\+setmultfrange} (long m0, long m1, float multfval)
\item 
int \hyperlink{AOloopControl_8h_aaa126a387977664e7f916666792e3613}{A\+Oloop\+Control\+\_\+setgainblock} (long mb, float gainval)
\item 
int \hyperlink{AOloopControl_8h_a8eea3d2e25d628b9faf4ec4a721cc92f}{A\+Oloop\+Control\+\_\+setlimitblock} (long mb, float limitval)
\item 
int \hyperlink{AOloopControl_8h_ac1ca4245db1545afae825f1dc8466522}{A\+Oloop\+Control\+\_\+setmultfblock} (long mb, float multfval)
\item 
int \hyperlink{AOloopControl_8h_afabfd422328c9a189efe384efe6dfd9b}{A\+Oloop\+Control\+\_\+reset\+R\+M\+Sperf} ()
\item 
int \hyperlink{AOloopControl_8h_aed00192695ec7d687bc7c2122bf91c90}{A\+Oloop\+Control\+\_\+scan\+Gain\+Block} (long N\+Bblock, long N\+Bstep, float gain\+Start, float gain\+End, long N\+Bgain)
\item 
int \hyperlink{AOloopControl_8h_a15b78cd3a44b44c60cf340e457c421f9}{A\+Oloop\+Control\+\_\+\+Inject\+Mode} (long index, float ampl)
\item 
int \hyperlink{AOloopControl_8h_afbfea6c276731196c933505b60d8ee95}{A\+Oloop\+Control\+\_\+\+Auto\+Tune} ()
\item 
int \hyperlink{AOloopControl_8h_a144da569d55ee48a672152c2ec145846}{A\+Oloop\+Control\+\_\+setparam} (long loop, char $\ast$key, double value)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{AOloopControl_8h_a1607e57c6edf0fe69d995ec9b00b2d2d}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!max\+N\+B\+M\+B@{max\+N\+B\+M\+B}}
\index{max\+N\+B\+M\+B@{max\+N\+B\+M\+B}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{max\+N\+B\+M\+B}]{\setlength{\rightskip}{0pt plus 5cm}\#define max\+N\+B\+M\+B~100}}\label{AOloopControl_8h_a1607e57c6edf0fe69d995ec9b00b2d2d}


\subsection{Function Documentation}
\hypertarget{AOloopControl_8h_ae49a1c95d630e0924f5fcc570f8c3f90}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Ocompute@{A\+Ocompute}}
\index{A\+Ocompute@{A\+Ocompute}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Ocompute}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Ocompute (
\begin{DoxyParamCaption}
\item[{long}]{loop}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_ae49a1c95d630e0924f5fcc570f8c3f90}
\hypertarget{AOloopControl_8h_afbfea6c276731196c933505b60d8ee95}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+\+Auto\+Tune@{A\+Oloop\+Control\+\_\+\+Auto\+Tune}}
\index{A\+Oloop\+Control\+\_\+\+Auto\+Tune@{A\+Oloop\+Control\+\_\+\+Auto\+Tune}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+\+Auto\+Tune}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+\+Auto\+Tune (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_afbfea6c276731196c933505b60d8ee95}
\hypertarget{AOloopControl_8h_abafcddf53edec67a3729837724449116}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+camimage\+\_\+extract2\+D\+\_\+sharedmem\+\_\+loop@{A\+Oloop\+Control\+\_\+camimage\+\_\+extract2\+D\+\_\+sharedmem\+\_\+loop}}
\index{A\+Oloop\+Control\+\_\+camimage\+\_\+extract2\+D\+\_\+sharedmem\+\_\+loop@{A\+Oloop\+Control\+\_\+camimage\+\_\+extract2\+D\+\_\+sharedmem\+\_\+loop}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+camimage\+\_\+extract2\+D\+\_\+sharedmem\+\_\+loop}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+camimage\+\_\+extract2\+D\+\_\+sharedmem\+\_\+loop (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{in\+\_\+name, }
\item[{char $\ast$}]{out\+\_\+name, }
\item[{long}]{size\+\_\+x, }
\item[{long}]{size\+\_\+y, }
\item[{long}]{xstart, }
\item[{long}]{ystart}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_abafcddf53edec67a3729837724449116}
\hypertarget{AOloopControl_8h_a7071ae48e7bdbd03bc3c13ff143ec017}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+\+Initialize\+Memory@{A\+Oloop\+Control\+\_\+\+Initialize\+Memory}}
\index{A\+Oloop\+Control\+\_\+\+Initialize\+Memory@{A\+Oloop\+Control\+\_\+\+Initialize\+Memory}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+\+Initialize\+Memory}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+\+Initialize\+Memory (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a7071ae48e7bdbd03bc3c13ff143ec017}
\hypertarget{AOloopControl_8h_a15b78cd3a44b44c60cf340e457c421f9}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+\+Inject\+Mode@{A\+Oloop\+Control\+\_\+\+Inject\+Mode}}
\index{A\+Oloop\+Control\+\_\+\+Inject\+Mode@{A\+Oloop\+Control\+\_\+\+Inject\+Mode}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+\+Inject\+Mode}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+\+Inject\+Mode (
\begin{DoxyParamCaption}
\item[{long}]{index, }
\item[{float}]{ampl}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a15b78cd3a44b44c60cf340e457c421f9}
\hypertarget{AOloopControl_8h_a433c21c6619529f2a61c2b4c22a7c287}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+load\+C\+M@{A\+Oloop\+Control\+\_\+load\+C\+M}}
\index{A\+Oloop\+Control\+\_\+load\+C\+M@{A\+Oloop\+Control\+\_\+load\+C\+M}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+load\+C\+M}]{\setlength{\rightskip}{0pt plus 5cm}long A\+Oloop\+Control\+\_\+load\+C\+M (
\begin{DoxyParamCaption}
\item[{long}]{loop, }
\item[{char $\ast$}]{C\+Mfname}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a433c21c6619529f2a61c2b4c22a7c287}
\hypertarget{AOloopControl_8h_a25c5f36d50bdfd0be2cdf0476c300e03}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+loadconfigure@{A\+Oloop\+Control\+\_\+loadconfigure}}
\index{A\+Oloop\+Control\+\_\+loadconfigure@{A\+Oloop\+Control\+\_\+loadconfigure}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+loadconfigure}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+loadconfigure (
\begin{DoxyParamCaption}
\item[{long}]{loop, }
\item[{int}]{mode}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a25c5f36d50bdfd0be2cdf0476c300e03}
\hypertarget{AOloopControl_8h_a2b8abc25c5776e3adfdf9abff393b4de}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+logoff@{A\+Oloop\+Control\+\_\+logoff}}
\index{A\+Oloop\+Control\+\_\+logoff@{A\+Oloop\+Control\+\_\+logoff}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+logoff}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+logoff (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a2b8abc25c5776e3adfdf9abff393b4de}
\hypertarget{AOloopControl_8h_a8507068917e5ce955a643d40d0dcc0e3}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+logon@{A\+Oloop\+Control\+\_\+logon}}
\index{A\+Oloop\+Control\+\_\+logon@{A\+Oloop\+Control\+\_\+logon}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+logon}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+logon (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a8507068917e5ce955a643d40d0dcc0e3}
\hypertarget{AOloopControl_8h_a2c85b4bdaa4d20924f5faf5a70f64c3e}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+loopkill@{A\+Oloop\+Control\+\_\+loopkill}}
\index{A\+Oloop\+Control\+\_\+loopkill@{A\+Oloop\+Control\+\_\+loopkill}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+loopkill}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+loopkill (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a2c85b4bdaa4d20924f5faf5a70f64c3e}
\hypertarget{AOloopControl_8h_a15b7e95b4f672093999baa32340ba2d1}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+loop\+Monitor@{A\+Oloop\+Control\+\_\+loop\+Monitor}}
\index{A\+Oloop\+Control\+\_\+loop\+Monitor@{A\+Oloop\+Control\+\_\+loop\+Monitor}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+loop\+Monitor}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+loop\+Monitor (
\begin{DoxyParamCaption}
\item[{long}]{loop, }
\item[{double}]{frequ, }
\item[{long}]{nbcol}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a15b7e95b4f672093999baa32340ba2d1}
\hypertarget{AOloopControl_8h_a1459e03fb4779fca74d482c4844b20b7}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+loopoff@{A\+Oloop\+Control\+\_\+loopoff}}
\index{A\+Oloop\+Control\+\_\+loopoff@{A\+Oloop\+Control\+\_\+loopoff}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+loopoff}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+loopoff (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a1459e03fb4779fca74d482c4844b20b7}
\hypertarget{AOloopControl_8h_ac12e4ec8eab5e0e1997297c19132c738}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+loopon@{A\+Oloop\+Control\+\_\+loopon}}
\index{A\+Oloop\+Control\+\_\+loopon@{A\+Oloop\+Control\+\_\+loopon}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+loopon}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+loopon (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_ac12e4ec8eab5e0e1997297c19132c738}
\hypertarget{AOloopControl_8h_a7eff3756b677cbbb8162855660b06598}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+loopreset@{A\+Oloop\+Control\+\_\+loopreset}}
\index{A\+Oloop\+Control\+\_\+loopreset@{A\+Oloop\+Control\+\_\+loopreset}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+loopreset}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+loopreset (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a7eff3756b677cbbb8162855660b06598}
\hypertarget{AOloopControl_8h_af9e154a6fb28dfba8c8acf770431923d}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+loopstep@{A\+Oloop\+Control\+\_\+loopstep}}
\index{A\+Oloop\+Control\+\_\+loopstep@{A\+Oloop\+Control\+\_\+loopstep}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+loopstep}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+loopstep (
\begin{DoxyParamCaption}
\item[{long}]{loop, }
\item[{long}]{N\+Bstep}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_af9e154a6fb28dfba8c8acf770431923d}
\hypertarget{AOloopControl_8h_acc9ab7061d6a728e55bcacd6742448c1}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+\+Make\+D\+M\+Modes@{A\+Oloop\+Control\+\_\+\+Make\+D\+M\+Modes}}
\index{A\+Oloop\+Control\+\_\+\+Make\+D\+M\+Modes@{A\+Oloop\+Control\+\_\+\+Make\+D\+M\+Modes}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+\+Make\+D\+M\+Modes}]{\setlength{\rightskip}{0pt plus 5cm}long A\+Oloop\+Control\+\_\+\+Make\+D\+M\+Modes (
\begin{DoxyParamCaption}
\item[{long}]{loop, }
\item[{long}]{N\+Bmodes, }
\item[{char $\ast$}]{I\+Dname}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_acc9ab7061d6a728e55bcacd6742448c1}
\hypertarget{AOloopControl_8h_a5c3b0bdcff0ed83ed3f9f217b14c014d}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+make\+Template\+A\+Oloopconf@{A\+Oloop\+Control\+\_\+make\+Template\+A\+Oloopconf}}
\index{A\+Oloop\+Control\+\_\+make\+Template\+A\+Oloopconf@{A\+Oloop\+Control\+\_\+make\+Template\+A\+Oloopconf}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+make\+Template\+A\+Oloopconf}]{\setlength{\rightskip}{0pt plus 5cm}long A\+Oloop\+Control\+\_\+make\+Template\+A\+Oloopconf (
\begin{DoxyParamCaption}
\item[{long}]{loopnb}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a5c3b0bdcff0ed83ed3f9f217b14c014d}


Creates a blank configuration. 

\hypertarget{AOloopControl_8h_a40f5dfb872f856f68b6dec2a72f126bb}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+\+Measure\+\_\+\+W\+F\+Scam\+\_\+\+Periodic\+Error@{A\+Oloop\+Control\+\_\+\+Measure\+\_\+\+W\+F\+Scam\+\_\+\+Periodic\+Error}}
\index{A\+Oloop\+Control\+\_\+\+Measure\+\_\+\+W\+F\+Scam\+\_\+\+Periodic\+Error@{A\+Oloop\+Control\+\_\+\+Measure\+\_\+\+W\+F\+Scam\+\_\+\+Periodic\+Error}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+\+Measure\+\_\+\+W\+F\+Scam\+\_\+\+Periodic\+Error}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+\+Measure\+\_\+\+W\+F\+Scam\+\_\+\+Periodic\+Error (
\begin{DoxyParamCaption}
\item[{long}]{loop, }
\item[{long}]{N\+Bframes, }
\item[{long}]{N\+Bpha, }
\item[{char $\ast$}]{I\+Dout\+\_\+name}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a40f5dfb872f856f68b6dec2a72f126bb}
Record periodic camera signal (to be used if there is a periodic camera error)

folds the signal onto one period in frames

find periodicity ( coarse search )

toggles to 1 when curve first goes above level1

toggles to 1 when curve first goes above level2 after level1\+O\+K

toggles to 1 when curve first goes above level3 after level2\+O\+K

find periodicity ( fine search )

building phase cube \hypertarget{AOloopControl_8h_ad0ae22b447c41a10cf7f3614dfbcd49c}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+mk\+Modes@{A\+Oloop\+Control\+\_\+mk\+Modes}}
\index{A\+Oloop\+Control\+\_\+mk\+Modes@{A\+Oloop\+Control\+\_\+mk\+Modes}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+mk\+Modes}]{\setlength{\rightskip}{0pt plus 5cm}long A\+Oloop\+Control\+\_\+mk\+Modes (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{I\+D\+\_\+name, }
\item[{long}]{msize, }
\item[{float}]{C\+P\+Amax, }
\item[{float}]{delta\+C\+P\+A, }
\item[{double}]{xc, }
\item[{double}]{yx, }
\item[{double}]{r0, }
\item[{double}]{r1, }
\item[{int}]{Mask\+Mode}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_ad0ae22b447c41a10cf7f3614dfbcd49c}
C\+P\+A for each Zernike (somewhat arbitrary... used to sort modes in C\+P\+A)

modesfreqcpa I\+D

if Mmask exists, use it, otherwise create it

extract xc and yc from mask

3\+: tip, tilt, focus

Remove excluded modes \hypertarget{AOloopControl_8h_ac2130a837323ad0ead68e773805d463b}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+printloopstatus@{A\+Oloop\+Control\+\_\+printloopstatus}}
\index{A\+Oloop\+Control\+\_\+printloopstatus@{A\+Oloop\+Control\+\_\+printloopstatus}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+printloopstatus}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+printloopstatus (
\begin{DoxyParamCaption}
\item[{long}]{loop, }
\item[{long}]{nbcol}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_ac2130a837323ad0ead68e773805d463b}
\hypertarget{AOloopControl_8h_af46ddde2c87335138a1a11eee3442119}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+\+Remove\+\_\+\+W\+F\+Scam\+P\+E@{A\+Oloop\+Control\+\_\+\+Remove\+\_\+\+W\+F\+Scam\+P\+E}}
\index{A\+Oloop\+Control\+\_\+\+Remove\+\_\+\+W\+F\+Scam\+P\+E@{A\+Oloop\+Control\+\_\+\+Remove\+\_\+\+W\+F\+Scam\+P\+E}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+\+Remove\+\_\+\+W\+F\+Scam\+P\+E}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+\+Remove\+\_\+\+W\+F\+Scam\+P\+E (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{I\+Din\+\_\+name, }
\item[{char $\ast$}]{I\+Dcorr\+\_\+name, }
\item[{double}]{pha}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_af46ddde2c87335138a1a11eee3442119}
remove W\+F\+S camera periodic error

pha\+: phase from 0.\+0 to 1.\+0 \hypertarget{AOloopControl_8h_afabfd422328c9a189efe384efe6dfd9b}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+reset\+R\+M\+Sperf@{A\+Oloop\+Control\+\_\+reset\+R\+M\+Sperf}}
\index{A\+Oloop\+Control\+\_\+reset\+R\+M\+Sperf@{A\+Oloop\+Control\+\_\+reset\+R\+M\+Sperf}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+reset\+R\+M\+Sperf}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+reset\+R\+M\+Sperf (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_afabfd422328c9a189efe384efe6dfd9b}
\hypertarget{AOloopControl_8h_a49e9b7e1597c463530fdaa7e7ec56150}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+run@{A\+Oloop\+Control\+\_\+run}}
\index{A\+Oloop\+Control\+\_\+run@{A\+Oloop\+Control\+\_\+run}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+run}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+run (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a49e9b7e1597c463530fdaa7e7ec56150}
main routine \hypertarget{AOloopControl_8h_aed00192695ec7d687bc7c2122bf91c90}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+scan\+Gain\+Block@{A\+Oloop\+Control\+\_\+scan\+Gain\+Block}}
\index{A\+Oloop\+Control\+\_\+scan\+Gain\+Block@{A\+Oloop\+Control\+\_\+scan\+Gain\+Block}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+scan\+Gain\+Block}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+scan\+Gain\+Block (
\begin{DoxyParamCaption}
\item[{long}]{N\+Bblock, }
\item[{long}]{N\+Bstep, }
\item[{float}]{gain\+Start, }
\item[{float}]{gain\+End, }
\item[{long}]{N\+Bgain}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_aed00192695ec7d687bc7c2122bf91c90}
\hypertarget{AOloopControl_8h_ab613f72b3d71fcbd8e7c66c5ca984661}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+setframes\+Ave@{A\+Oloop\+Control\+\_\+setframes\+Ave}}
\index{A\+Oloop\+Control\+\_\+setframes\+Ave@{A\+Oloop\+Control\+\_\+setframes\+Ave}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+setframes\+Ave}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+setframes\+Ave (
\begin{DoxyParamCaption}
\item[{long}]{nbframes}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_ab613f72b3d71fcbd8e7c66c5ca984661}
\hypertarget{AOloopControl_8h_a5f9c5ad3207860e9d7aa798ac1c9fae5}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+setgain@{A\+Oloop\+Control\+\_\+setgain}}
\index{A\+Oloop\+Control\+\_\+setgain@{A\+Oloop\+Control\+\_\+setgain}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+setgain}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+setgain (
\begin{DoxyParamCaption}
\item[{float}]{gain}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a5f9c5ad3207860e9d7aa798ac1c9fae5}
\hypertarget{AOloopControl_8h_aaa126a387977664e7f916666792e3613}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+setgainblock@{A\+Oloop\+Control\+\_\+setgainblock}}
\index{A\+Oloop\+Control\+\_\+setgainblock@{A\+Oloop\+Control\+\_\+setgainblock}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+setgainblock}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+setgainblock (
\begin{DoxyParamCaption}
\item[{long}]{mb, }
\item[{float}]{gainval}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_aaa126a387977664e7f916666792e3613}
\hypertarget{AOloopControl_8h_a821eb358bf66f0110683f11f2e9f8bd3}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+setgainrange@{A\+Oloop\+Control\+\_\+setgainrange}}
\index{A\+Oloop\+Control\+\_\+setgainrange@{A\+Oloop\+Control\+\_\+setgainrange}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+setgainrange}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+setgainrange (
\begin{DoxyParamCaption}
\item[{long}]{m0, }
\item[{long}]{m1, }
\item[{float}]{gainval}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a821eb358bf66f0110683f11f2e9f8bd3}
\hypertarget{AOloopControl_8h_a8eea3d2e25d628b9faf4ec4a721cc92f}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+setlimitblock@{A\+Oloop\+Control\+\_\+setlimitblock}}
\index{A\+Oloop\+Control\+\_\+setlimitblock@{A\+Oloop\+Control\+\_\+setlimitblock}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+setlimitblock}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+setlimitblock (
\begin{DoxyParamCaption}
\item[{long}]{mb, }
\item[{float}]{limitval}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a8eea3d2e25d628b9faf4ec4a721cc92f}
\hypertarget{AOloopControl_8h_a5b18dda711594cd8a420618f1f19131f}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+setlimitrange@{A\+Oloop\+Control\+\_\+setlimitrange}}
\index{A\+Oloop\+Control\+\_\+setlimitrange@{A\+Oloop\+Control\+\_\+setlimitrange}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+setlimitrange}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+setlimitrange (
\begin{DoxyParamCaption}
\item[{long}]{m0, }
\item[{long}]{m1, }
\item[{float}]{limval}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a5b18dda711594cd8a420618f1f19131f}
\hypertarget{AOloopControl_8h_a2d13870a1f5ae080dfc54d02cb2d31be}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+set\+Loop\+Number@{A\+Oloop\+Control\+\_\+set\+Loop\+Number}}
\index{A\+Oloop\+Control\+\_\+set\+Loop\+Number@{A\+Oloop\+Control\+\_\+set\+Loop\+Number}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+set\+Loop\+Number}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+set\+Loop\+Number (
\begin{DoxyParamCaption}
\item[{long}]{loop}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a2d13870a1f5ae080dfc54d02cb2d31be}
append process name with loop number \hypertarget{AOloopControl_8h_a2e67072df4000cbf36d0a288a9ad600c}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+setmaxlimit@{A\+Oloop\+Control\+\_\+setmaxlimit}}
\index{A\+Oloop\+Control\+\_\+setmaxlimit@{A\+Oloop\+Control\+\_\+setmaxlimit}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+setmaxlimit}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+setmaxlimit (
\begin{DoxyParamCaption}
\item[{float}]{maxlimit}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a2e67072df4000cbf36d0a288a9ad600c}
\hypertarget{AOloopControl_8h_a103446360a63ad9db77d165bf0c70953}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+setmult@{A\+Oloop\+Control\+\_\+setmult}}
\index{A\+Oloop\+Control\+\_\+setmult@{A\+Oloop\+Control\+\_\+setmult}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+setmult}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+setmult (
\begin{DoxyParamCaption}
\item[{float}]{multcoeff}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a103446360a63ad9db77d165bf0c70953}
\hypertarget{AOloopControl_8h_ac1ca4245db1545afae825f1dc8466522}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+setmultfblock@{A\+Oloop\+Control\+\_\+setmultfblock}}
\index{A\+Oloop\+Control\+\_\+setmultfblock@{A\+Oloop\+Control\+\_\+setmultfblock}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+setmultfblock}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+setmultfblock (
\begin{DoxyParamCaption}
\item[{long}]{mb, }
\item[{float}]{multfval}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_ac1ca4245db1545afae825f1dc8466522}
\hypertarget{AOloopControl_8h_a539de519b6705f61d72b6242cd5a85ed}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+setmultfrange@{A\+Oloop\+Control\+\_\+setmultfrange}}
\index{A\+Oloop\+Control\+\_\+setmultfrange@{A\+Oloop\+Control\+\_\+setmultfrange}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+setmultfrange}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+setmultfrange (
\begin{DoxyParamCaption}
\item[{long}]{m0, }
\item[{long}]{m1, }
\item[{float}]{multfval}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a539de519b6705f61d72b6242cd5a85ed}
\hypertarget{AOloopControl_8h_a144da569d55ee48a672152c2ec145846}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+setparam@{A\+Oloop\+Control\+\_\+setparam}}
\index{A\+Oloop\+Control\+\_\+setparam@{A\+Oloop\+Control\+\_\+setparam}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+setparam}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+setparam (
\begin{DoxyParamCaption}
\item[{long}]{loop, }
\item[{char $\ast$}]{key, }
\item[{double}]{value}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a144da569d55ee48a672152c2ec145846}
\hypertarget{AOloopControl_8h_a8b75616de0409597277e78ccc25e8e28}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+set\+W\+F\+Snormfloor@{A\+Oloop\+Control\+\_\+set\+W\+F\+Snormfloor}}
\index{A\+Oloop\+Control\+\_\+set\+W\+F\+Snormfloor@{A\+Oloop\+Control\+\_\+set\+W\+F\+Snormfloor}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+set\+W\+F\+Snormfloor}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+set\+W\+F\+Snormfloor (
\begin{DoxyParamCaption}
\item[{float}]{W\+F\+Snormfloor}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a8b75616de0409597277e78ccc25e8e28}
\hypertarget{AOloopControl_8h_a393d9b6ae87a47e1d1e4ce32f9078bcd}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+showparams@{A\+Oloop\+Control\+\_\+showparams}}
\index{A\+Oloop\+Control\+\_\+showparams@{A\+Oloop\+Control\+\_\+showparams}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+showparams}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+showparams (
\begin{DoxyParamCaption}
\item[{long}]{loop}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a393d9b6ae87a47e1d1e4ce32f9078bcd}
\hypertarget{AOloopControl_8h_a44d6b74e377a16df7fc07c6540c028a8}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!A\+Oloop\+Control\+\_\+status\+Stats@{A\+Oloop\+Control\+\_\+status\+Stats}}
\index{A\+Oloop\+Control\+\_\+status\+Stats@{A\+Oloop\+Control\+\_\+status\+Stats}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{A\+Oloop\+Control\+\_\+status\+Stats}]{\setlength{\rightskip}{0pt plus 5cm}int A\+Oloop\+Control\+\_\+status\+Stats (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a44d6b74e377a16df7fc07c6540c028a8}
\hypertarget{AOloopControl_8h_aebbd9ebfb4bb8e187b37fcf60b453b3d}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!Average\+\_\+cam\+\_\+frames@{Average\+\_\+cam\+\_\+frames}}
\index{Average\+\_\+cam\+\_\+frames@{Average\+\_\+cam\+\_\+frames}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{Average\+\_\+cam\+\_\+frames}]{\setlength{\rightskip}{0pt plus 5cm}int Average\+\_\+cam\+\_\+frames (
\begin{DoxyParamCaption}
\item[{long}]{loop, }
\item[{long}]{Nb\+Ave, }
\item[{int}]{R\+M}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_aebbd9ebfb4bb8e187b37fcf60b453b3d}
Read image from W\+F\+S camera

supports ring buffer puts image from camera buffer aoconf\+I\+D\+\_\+\+W\+F\+S into aoconf\+I\+D\+\_\+\+W\+F\+S1 (supplied by user)

R\+M = 1 if response matrix

image is normalized by dividing by (total + A\+Oconf\mbox{[}loop\mbox{]}.W\+F\+Snormfloor) \hypertarget{AOloopControl_8h_a90718da3540a468ed4ffd1e8ba2a0f4b}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!compute\+\_\+\+Combined\+Control\+Matrix@{compute\+\_\+\+Combined\+Control\+Matrix}}
\index{compute\+\_\+\+Combined\+Control\+Matrix@{compute\+\_\+\+Combined\+Control\+Matrix}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{compute\+\_\+\+Combined\+Control\+Matrix}]{\setlength{\rightskip}{0pt plus 5cm}long compute\+\_\+\+Combined\+Control\+Matrix (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{I\+Dcmat\+\_\+name, }
\item[{char $\ast$}]{I\+Dmodes\+\_\+name, }
\item[{char $\ast$}]{I\+Dwfsmask\+\_\+name, }
\item[{char $\ast$}]{I\+Ddmmask\+\_\+name, }
\item[{char $\ast$}]{I\+Dcmatc\+\_\+name, }
\item[{char $\ast$}]{I\+Dcmatc\+\_\+active\+\_\+name}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a90718da3540a468ed4ffd1e8ba2a0f4b}
\hypertarget{AOloopControl_8h_a5dd93c01f73c5a77832eb9d3cb5d89c4}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!compute\+\_\+\+Control\+Matrix@{compute\+\_\+\+Control\+Matrix}}
\index{compute\+\_\+\+Control\+Matrix@{compute\+\_\+\+Control\+Matrix}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{compute\+\_\+\+Control\+Matrix}]{\setlength{\rightskip}{0pt plus 5cm}int compute\+\_\+\+Control\+Matrix (
\begin{DoxyParamCaption}
\item[{long}]{loop, }
\item[{long}]{N\+B\+\_\+\+M\+O\+D\+E\+\_\+\+R\+E\+M\+O\+V\+E\+D, }
\item[{char $\ast$}]{I\+D\+\_\+\+Rmatrix\+\_\+name, }
\item[{char $\ast$}]{I\+D\+\_\+\+Cmatrix\+\_\+name, }
\item[{char $\ast$}]{I\+D\+\_\+\+V\+Tmatrix\+\_\+name, }
\item[{double}]{Beta, }
\item[{long}]{N\+B\+\_\+\+M\+O\+D\+E\+\_\+\+R\+E\+M\+O\+V\+E\+D\+\_\+\+S\+T\+E\+P, }
\item[{float}]{eigenvlim}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a5dd93c01f73c5a77832eb9d3cb5d89c4}


Computes control matrix using S\+V\+D. 

Conventions\+: m\+: number of actuators (= N\+B\+\_\+\+M\+O\+D\+E\+S); n\+: number of sensors (= \# of pixels) works even for m != n gain applied to modes to enhance low orders in S\+V\+D

number of modes removed

in this procedure, m=number of actuators/modes, n=number of W\+F\+S elements

Write rotation matrix to go from D\+M modes to eigenmodes

Compute eigenmodes responses

eigen mode index

if modes\+M exists, compute eigenmodes using rotation matrix

eigen mode index

second, build the \char`\"{}inverse\char`\"{} of the diagonal matrix of eigenvalues (matrix1) \hypertarget{AOloopControl_8h_a629fc1fdecf7ffcf538a9292ee0f3f08}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!Control\+Matrix\+Multiply@{Control\+Matrix\+Multiply}}
\index{Control\+Matrix\+Multiply@{Control\+Matrix\+Multiply}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{Control\+Matrix\+Multiply}]{\setlength{\rightskip}{0pt plus 5cm}int Control\+Matrix\+Multiply (
\begin{DoxyParamCaption}
\item[{float $\ast$}]{cm\+\_\+array, }
\item[{float $\ast$}]{imarray, }
\item[{long}]{m, }
\item[{long}]{n, }
\item[{float $\ast$}]{outvect}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a629fc1fdecf7ffcf538a9292ee0f3f08}
\hypertarget{AOloopControl_8h_a8da218e072b44146cdc1d47f80d49e3c}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!init\+\_\+\+A\+Oloop\+Control@{init\+\_\+\+A\+Oloop\+Control}}
\index{init\+\_\+\+A\+Oloop\+Control@{init\+\_\+\+A\+Oloop\+Control}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{init\+\_\+\+A\+Oloop\+Control}]{\setlength{\rightskip}{0pt plus 5cm}int init\+\_\+\+A\+Oloop\+Control (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a8da218e072b44146cdc1d47f80d49e3c}
\hypertarget{AOloopControl_8h_ab51676f77cfd9e45abd24cb0a68a08e7}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!Measure\+\_\+\+Resp\+\_\+\+Matrix@{Measure\+\_\+\+Resp\+\_\+\+Matrix}}
\index{Measure\+\_\+\+Resp\+\_\+\+Matrix@{Measure\+\_\+\+Resp\+\_\+\+Matrix}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{Measure\+\_\+\+Resp\+\_\+\+Matrix}]{\setlength{\rightskip}{0pt plus 5cm}int Measure\+\_\+\+Resp\+\_\+\+Matrix (
\begin{DoxyParamCaption}
\item[{long}]{loop, }
\item[{long}]{Nb\+Ave, }
\item[{float}]{amp, }
\item[{long}]{nbloop, }
\item[{long}]{f\+Delay, }
\item[{long}]{N\+Biter}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_ab51676f77cfd9e45abd24cb0a68a08e7}
measures response matrix A\+N\+D reference local arrays for image acquision \hypertarget{AOloopControl_8h_af1fb87c4df5022fc7d227ddd0c3dcbe4}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!Measure\+\_\+zonal\+R\+M@{Measure\+\_\+zonal\+R\+M}}
\index{Measure\+\_\+zonal\+R\+M@{Measure\+\_\+zonal\+R\+M}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{Measure\+\_\+zonal\+R\+M}]{\setlength{\rightskip}{0pt plus 5cm}long Measure\+\_\+zonal\+R\+M (
\begin{DoxyParamCaption}
\item[{long}]{loop, }
\item[{double}]{ampl, }
\item[{double}]{delays, }
\item[{long}]{N\+Bave, }
\item[{char $\ast$}]{zrespm\+\_\+name, }
\item[{char $\ast$}]{W\+F\+Sref\+\_\+name, }
\item[{char $\ast$}]{W\+F\+Smap\+\_\+name, }
\item[{char $\ast$}]{D\+Mmap\+\_\+name}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_af1fb87c4df5022fc7d227ddd0c3dcbe4}
Measures zonal response matrix -\/$>$ collapses it to D\+M response map and W\+F\+S response map (both maps show amplitude of actuator effect on W\+F\+S) \hypertarget{AOloopControl_8h_a50857db2034c5affb27df150a136098f}{\index{A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}!set\+\_\+\+D\+M\+\_\+modes@{set\+\_\+\+D\+M\+\_\+modes}}
\index{set\+\_\+\+D\+M\+\_\+modes@{set\+\_\+\+D\+M\+\_\+modes}!A\+Oloop\+Control.\+h@{A\+Oloop\+Control.\+h}}
\subsubsection[{set\+\_\+\+D\+M\+\_\+modes}]{\setlength{\rightskip}{0pt plus 5cm}int set\+\_\+\+D\+M\+\_\+modes (
\begin{DoxyParamCaption}
\item[{long}]{loop}
\end{DoxyParamCaption}
)}}\label{AOloopControl_8h_a50857db2034c5affb27df150a136098f}
